// ------------------------------------------------------------------------------//
// (C) Copyright. 2021
// SILICON OPTRONICS CORPORATION ALL RIGHTS RESERVED
//
// This design is confidential and proprietary owned by Silicon Optronics Corp.
// Any distribution and modification must be authorized by a licensing agreement
// ------------------------------------------------------------------------------//
// Filename        : yuv_422_tb.v
// Author          : Willylin
// Version         : $Revision$
// Last Modified On: 2021/11/17
// Last Modified By: $Author$
//
// Description     :test yuv 422
// ------------------------------------------------------------------------------//

// defination & include
`timescale 1ns/1ns  

module yuv_422_tb();

//================================================================================
// simulation config console
//================================================================================
//---------------------------------------------------ini_reg
string               ini_file_name                = "reg_config.ini";
string               test_pat_name                = "";
string               ppm_file_name                = "";
string               gold_img_num                 = "";
//---------------------------------------------------clk
parameter                CLK_PERIOD = 10;


//================================================================================
//  signal declaration
//================================================================================

//-------------------------------------------------------------------------------yuv_422
wire                     o_422_vstr;            
wire                     o_422_vend;            
wire                     o_422_hstr;            
wire                     o_422_hend;            
wire                     o_422_dvld;            
wire [15:0]              o_422_data;            

reg                      yuv_422_clk;            
reg                      yuv_422_rst_n;            
reg                      i_422_vstr;            
reg                      i_vend;            
reg                      i_hstr;            
reg                      i_hend;            
reg                      i_dvld;            
reg [23:0]               i_data;
//---------------------------------------------------------------------------------config
reg                      reg_ini_done;

//--------------------------------------------------------------------------------
//  clocking and reset
//--------------------------------------------------------------------------------

initial begin
yuv_422_clk = 1'b0;    
yuv_422_rst_n = 1'b0;
#100
yuv_422_rst_n = 1'b1;

end

initial begin
     
forever #(CLK_PERIOD/2) yuv_422_clk = ~yuv_422_clk;

end

//================================================================================
//  behavior description
//================================================================================

  
//================================================================================
//  module instantiation
//================================================================================

ip_yuv_422 ip_yuv_422
(

    .o_422_vstr     (o_422_vstr),
    .o_422_vend     (o_422_vend),
    .o_422_hstr     (o_422_hstr),
    .o_422_hend     (o_422_hend),
    .o_422_dvld     (o_422_dvld),
    .o_422_data     (o_422_data),

    .yuv_422_clk    (yuv_422_clk),
    .yuv_422_rst_n  (yuv_422_rst_n),
    .i_vstr         (i_vstr),
    .i_vend         (i_vend),
    .i_hstr         (i_hstr),
    .i_hend         (i_hend),
    .i_dvld         (i_dvld),
    .i_data         (i_data)

);

//--------------------------------------------------------------------------------
// register setting (override initial value)
//--------------------------------------------------------------------------------
initial begin: REG_INI
  reg_ini_done = 0;
  reg_ini.open_ini(ini_file_name);
  @ (posedge yuv_422_clk);
  reg_ini_done = 1;
end
  
//--------------------------------------------------------------------------------
// simulation patten
//--------------------------------------------------------------------------------

//--------------------------------------------------------------------------------
//  waveform dump setting
//--------------------------------------------------------------------------------

initial begin 
      $fsdbDumpfile("./wave/yuv_422_tb");
      $fsdbDumpvars(0,yuv_422_tb,"+all");
      #10000;
      $finish;
end

//--------------------------------------------------------------------------------
//  register initial procedure
//--------------------------------------------------------------------------------
reg_ini
reg_ini();

//--------------------------------------------------------------------------------

endmodule       
